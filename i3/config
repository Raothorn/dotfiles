# ======================
# i3: minimal functional
# ======================

set $mod Mod4
set $terminal alacritty
set $menu dmenu_run

font pango:monospace 10

# --- Core behavior ---
focus_follows_mouse no
mouse_warping none
floating_modifier $mod

# --- Key repeat / layout niceties (optional) ---
# exec_always --no-startup-id setxkbmap -option caps:escape

# --- Launch ---
set $menu rofi -show drun
bindsym $mod+d exec --no-startup-id $menu

# Kill / exit
bindsym $mod+Shift+q kill
bindsym $mod+Shift+e exec --no-startup-id i3-nagbar -t warning -m "Exit i3?" -B "Yes" "i3-msg exit"

# Reload / restart (use constantly while editing)
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart

# --- Focus (Vim-style) ---
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Also allow arrow keys if you want
bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up    focus up
bindsym $mod+Right focus right

# --- Move windows (Shift + Vim) ---
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# --- Layout / splits ---
bindsym $mod+v split v
bindsym $mod+b split h

bindsym $mod+f fullscreen toggle
bindsym $mod+space floating toggle
bindsym $mod+Shift+space focus mode_toggle

# Tabbed/stacked if you ever want it quickly
bindsym $mod+w layout tabbed
bindsym $mod+s layout stacking
bindsym $mod+e layout toggle split

# --- Workspaces ---
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+Shift+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9; workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10; workspace $ws10

# Workspace cycling (handy when you forget where stuff is)
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

# --- Resize mode (minimal) ---
mode "resize" {
    bindsym h resize shrink width  10 px or 10 ppt
    bindsym j resize grow   height 10 px or 10 ppt
    bindsym k resize shrink height 10 px or 10 ppt
    bindsym l resize grow   width  10 px or 10 ppt

    bindsym Left  resize shrink width  10 px or 10 ppt
    bindsym Down  resize grow   height 10 px or 10 ppt
    bindsym Up    resize shrink height 10 px or 10 ppt
    bindsym Right resize grow   width  10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# --- Basic audio keys (works on many keyboards) ---
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute        exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym $mod+Shift+p exec --no-startup-id pavucontrol

# --- Startup: screen lock + DPMS ---
exec_always --no-startup-id xset s off
exec_always --no-startup-id xset -dpms
exec_always --no-startup-id xset s noblank

exec_always --no-startup-id xss-lock -- i3lock -c 000000

# --- Bar ---
bar {
    status_command i3status
}
